/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "build";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 0);
/******/ })
/************************************************************************/
/******/ ({

/***/ "./example12_main.v2.js":
/*!******************************!*\
  !*** ./example12_main.v2.js ***!
  \******************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n'use strict'; //////////////////////////////////////////////////////////////\n// Model\n//////////////////////////////////////////////////////////////\n\n\nvar Model = function Model() {\n  _classCallCheck(this, Model);\n};\n\n_defineProperty(Model, \"createLayer\", function () {\n  console.log('BEG createLayer v2');\n  this._$texturePaneWrapper = $('<div id=\"texture-pane-wrapper\"></div>');\n  this.texCanvasWrapper = $('<div id=\"texCanvasWrapper\"></div>');\n\n  this._$texturePaneWrapper.appendTo('#grid-container1');\n\n  this._$texturePaneWrapper.append(this.texCanvasWrapper);\n\n  var layer = new Layer();\n  layer.initLayer();\n  return layer;\n});\n\n_defineProperty(Model, \"getSelectedLayer\", function () {\n  return this._selectedLayer;\n});\n\n;\nModel._selectedLayer = null; //////////////////////////////////////////////////////////////\n// Layer\n//////////////////////////////////////////////////////////////\n\nvar Layer = function Layer() {\n  _classCallCheck(this, Layer);\n\n  _defineProperty(this, \"detectUserAgent\", function () {\n    console.log('BEG detectUserAgent1');\n    this._browserDetect = new BrowserDetect();\n\n    this._browserDetect.init();\n\n    console.log('this._browserDetect.OS', this._browserDetect.OS);\n    console.log('this._browserDetect.browser', this._browserDetect.browser);\n    console.log('this._browserDetect.version', this._browserDetect.version);\n    var titleStr = \"BrowserDetect\";\n    var msgStr = navigator.userAgent + ', OS: ' + this._browserDetect.OS + \", Browser: \" + this._browserDetect.browser + \", Version: \" + this._browserDetect.version;\n    toastr.success(msgStr, titleStr, Util.toastrSettings);\n  });\n\n  _defineProperty(this, \"initLayer\", function () {\n    console.log('BEG initLayer');\n    this.texturePanelPlugin = new TexturePanelPlugin();\n    this.texturePanelPlugin.initTexturePanelPlugin();\n  });\n\n  _defineProperty(this, \"getImageBlobUrl\", /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(imageFilename) {\n      var url, response, msgStr, blob, blobUrl;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              url = imageFilename;\n              console.log('url', url);\n              _context.next = 4;\n              return fetch(url);\n\n            case 4:\n              response = _context.sent;\n\n              if (response.ok) {\n                _context.next = 8;\n                break;\n              }\n\n              msgStr = \"Request rejected with status: \" + response.status + \", and statusText: \" + response.statusText;\n              throw Error(msgStr);\n\n            case 8:\n              _context.next = 10;\n              return response.blob();\n\n            case 10:\n              blob = _context.sent;\n              blobUrl = URL.createObjectURL(blob);\n              console.log('blobUrl', blobUrl);\n              return _context.abrupt(\"return\", blobUrl);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }());\n\n  _defineProperty(this, \"loadTheSelectedImageAndRender\", /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n    var selectedImageFilename, blobUrl, imageOrientation;\n    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            // console.log('BEG loadTheSelectedImageAndRender');\n            // ok loads (see setup1 in notes)\n            // let selectedImageFilename = 'http://localhost/avner/img/9/13/bar1_2048_1536.jpg';\n            // let selectedImageFilename = 'http://localhost/avner/img/7/7/exampleImg_3840_2160.jpg';\n            // let selectedImageFilename = 'http://192.168.1.74/avner/img/7/7/exampleImg_3840_2160.jpg';\n            selectedImageFilename = 'https://cdn.jsdelivr.net/gh/avnermosh/example12_ipad_landscape_image_not_centered_properly/exampleImg_3840_2160.jpg';\n            console.log('selectedImageFilename', selectedImageFilename);\n            _context2.next = 4;\n            return this.getImageBlobUrl(selectedImageFilename);\n\n          case 4:\n            blobUrl = _context2.sent;\n            imageOrientation = 6;\n            _context2.next = 8;\n            return this.loadTextureFromFile(blobUrl, imageOrientation);\n\n          case 8:\n            return _context2.abrupt(\"return\", true);\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, this);\n  })));\n\n  _defineProperty(this, \"loadTextureFromFile\", /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(textureFileUrl, imageOrientation) {\n      return regeneratorRuntime.wrap(function _callee5$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              console.log('BEG loadTextureFromFile');\n              return _context5.abrupt(\"return\", new Promise( /*#__PURE__*/function () {\n                var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(resolve, reject) {\n                  var msgStr, onLoad_Texture, _onLoad_Texture, onProgress_TextureLoader;\n\n                  return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          _onLoad_Texture = function _onLoad_Texture3() {\n                            _onLoad_Texture = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(texture2) {\n                              var selectedLayer, rotationParams, rotationVal, material2, sprite2, texComponentsTitle, textureImageInfo, texturePanelPlugin;\n                              return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                                while (1) {\n                                  switch (_context3.prev = _context3.next) {\n                                    case 0:\n                                      console.log('BEG onLoad_Texture');\n                                      texture2.wrapS = !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n                                      texture2.wrapT = !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }());\n                                      texture2.needsUpdate = true; // We need to update the texture2\n                                      // Prevent warning when texture is not a power of 2\n                                      // https://discourse.threejs.org/t/warning-from-threejs-image-is-not-power-of-two/7085\n\n                                      texture2.minFilter = !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()); // texture.generateMipmaps = false;\n\n                                      selectedLayer = Model.getSelectedLayer();\n                                      rotationParams = OrbitControlsUtils.getRotationParams(imageOrientation);\n                                      rotationVal = rotationParams.rotationVal;\n                                      texture2.flipY = rotationParams.flipY;\n                                      material2 = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n                                        map: texture2,\n                                        color: 0xffffff,\n                                        rotation: rotationVal,\n                                        fog: true\n                                      });\n                                      sprite2 = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(material2); /////////////////////////////////////////////////////////////////////////\n                                      // textureImageInfo stores information about the loaded image\n                                      /////////////////////////////////////////////////////////////////////////\n\n                                      texComponentsTitle = \"RGB\";\n                                      textureImageInfo = {\n                                        fileName: textureFileUrl,\n                                        components: texComponentsTitle,\n                                        format: !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()),\n                                        data: sprite2,\n                                        imageOrientation: imageOrientation\n                                      };\n                                      selectedLayer.textureImageInfo = textureImageInfo; // the texture image finished openning from file. Load the texture image onto the pane\n\n                                      texturePanelPlugin = selectedLayer.texturePanelPlugin;\n                                      texturePanelPlugin.loadTextureImageToTexturePane(textureImageInfo);\n                                      resolve(true);\n\n                                    case 17:\n                                    case \"end\":\n                                      return _context3.stop();\n                                  }\n                                }\n                              }, _callee3);\n                            }));\n                            return _onLoad_Texture.apply(this, arguments);\n                          };\n\n                          onLoad_Texture = function _onLoad_Texture2(_x6) {\n                            return _onLoad_Texture.apply(this, arguments);\n                          };\n\n                          _context4.prev = 2;\n                          _context4.next = 5;\n                          return new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())().loadAsync(textureFileUrl).then(onLoad_Texture, onProgress_TextureLoader, reject);\n\n                        case 5:\n                          resolve(true);\n                          _context4.next = 14;\n                          break;\n\n                        case 8:\n                          _context4.prev = 8;\n                          _context4.t0 = _context4[\"catch\"](2);\n                          console.error('err', _context4.t0);\n                          msgStr = 'Error while trying to load from THREE_TextureLoader.loadAsync. textureFileUrl: ' + textureFileUrl;\n                          console.error(msgStr);\n                          reject(msgStr);\n\n                        case 14:\n                          ; // based on three.js/examples/webgl_loader_obj_mtl.html\n\n                          onProgress_TextureLoader = function onProgress_TextureLoader(xhr) {\n                            console.log('BEG onProgress_TextureLoader');\n\n                            if (xhr.lengthComputable) {\n                              var percentComplete = xhr.loaded / xhr.total * 100;\n                              console.log(Math.round(percentComplete, 2) + '% downloaded');\n                            }\n                          };\n\n                        case 16:\n                        case \"end\":\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4, null, [[2, 8]]);\n                }));\n\n                return function (_x4, _x5) {\n                  return _ref4.apply(this, arguments);\n                };\n              }()));\n\n            case 2:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, _callee5);\n    }));\n\n    return function (_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }());\n\n  this.texturePanelPlugin = undefined;\n  this.textureImageInfo = undefined;\n  this._browserDetect = undefined;\n  this.detectUserAgent();\n};\n\n; //////////////////////////////////////////////////////////////\n// OrbitControlsUtils\n//////////////////////////////////////////////////////////////\n\nvar OrbitControlsUtils = {};\n\nOrbitControlsUtils.getRotationParams = function (imageOrientation) {\n  // console.log('BEG OrbitControlsUtils.getRotationParams');\n  var rotationVal = 0;\n  var flipY = true;\n  var selectedLayer = Model.getSelectedLayer();\n  var browserDetect = selectedLayer._browserDetect;\n  console.log('browserDetect.11OS', browserDetect.OS); // console.log('browserDetect.browser', browserDetect.browser);\n  // console.log('browserDetect.version', browserDetect.version);\n\n  switch (imageOrientation) {\n    case 6:\n      {\n        // portrait\n        switch (browserDetect.OS) {\n          case 'Linux':\n          case 'Android':\n          case 'Windows':\n            {\n              switch (browserDetect.browser) {\n                case 'Firefox':\n                  {\n                    rotationVal = 0;\n                    flipY = true;\n                    break;\n                  }\n\n                default:\n                  {\n                    rotationVal = -Math.PI / 2;\n                    flipY = true;\n                    break;\n                  }\n              }\n\n              break;\n            }\n\n          case 'Mac':\n            {\n              switch (browserDetect.browser) {\n                case 'Firefox':\n                case 'Safari':\n                  {\n                    rotationVal = 0;\n                    flipY = true;\n                    break;\n                  }\n\n                default:\n                  {\n                    rotationVal = -Math.PI / 2;\n                    flipY = true;\n                    break;\n                  }\n              }\n\n              break;\n            }\n\n          default:\n            {\n              console.log('OS is not supported: ', browserDetect.OS, '. Using the default image orientation');\n              break;\n            }\n        }\n\n        break;\n      }\n\n    default:\n      {\n        var msgStr = \"imageOrientation is not supported: \" + imageOrientation;\n        console.error(msgStr);\n        console.error('Using the default orientation');\n        rotationVal = 0;\n        flipY = true;\n        break;\n      }\n  }\n\n  var rotationParams = {\n    rotationVal: rotationVal,\n    flipY: flipY\n  };\n  return rotationParams;\n};\n\nOrbitControlsUtils.getScaleAndRatio = function (width, height, imageOrientation) {\n  // console.log('BEG OrbitControlsUtils.getScaleAndRatio');\n  var scaleX = height;\n  var scaleY = width;\n  var selectedLayer = Model.getSelectedLayer();\n  var browserDetect = selectedLayer._browserDetect;\n  scaleX = width;\n  scaleY = height;\n\n  switch (imageOrientation) {\n    case 6:\n      {\n        // portrait\n        switch (browserDetect.OS) {\n          case 'Linux':\n          case 'Android':\n          case 'Windows':\n            {\n              switch (browserDetect.browser) {\n                case 'Firefox':\n                  {\n                    scaleX = width;\n                    scaleY = height;\n                    break;\n                  }\n\n                default:\n                  {\n                    scaleX = height;\n                    scaleY = width;\n                    break;\n                  }\n              }\n\n              break;\n            }\n\n          case 'Mac':\n            {\n              switch (browserDetect.browser) {\n                case 'Chrome':\n                  {\n                    scaleX = height;\n                    scaleY = width;\n                    break;\n                  }\n\n                case 'Safari':\n                  {\n                    scaleX = width;\n                    scaleY = height;\n                    break;\n                  }\n\n                default:\n                  {\n                    scaleX = width;\n                    scaleY = height;\n                    break;\n                  }\n              }\n\n              break;\n            }\n\n          default:\n            {\n              console.log('OS is not supported: ', browserDetect.OS, '. Using the default image orientation');\n              break;\n            }\n        }\n\n        break;\n      }\n\n    default:\n      {\n        var msgStr = \"imageOrientation is not supported: \" + imageOrientation;\n        console.error(msgStr);\n        console.error('Using the default orientation'); // throw new Error(msgStr);\n\n        scaleX = width;\n        scaleY = height;\n        break;\n      }\n  }\n\n  var rotationParams = OrbitControlsUtils.getRotationParams(imageOrientation);\n  var retVal = {\n    scaleX: scaleX,\n    scaleY: scaleY,\n    rotationVal: rotationParams.rotationVal,\n    flipY: rotationParams.flipY\n  };\n  return retVal;\n};\n\nOrbitControlsUtils.calcCanvasParams = function (guiWindowWidth, guiWindowHeight, imageWidth, imageHeight) {\n  console.log('BEG calcCanvasParams'); // canvasWidth, canvasHeight - the canvas size that preserves the aspectRatio of the image.\n  // The canvas size exceeds the gui window, i.e. canvasWidth>=guiWindowWidth, canvasHeight>=guiWindowHeight\n  // canvasWidth, canvasHeight is also the size of the viewport.\n\n  var canvasWidth = 0;\n  var canvasHeight = 0; // canvasOffsetLeft, canvasOffsetTop - offset from the orgin of the gui window to the origin of the canvas and the viewport\n\n  var canvasOffsetLeft = 0;\n  var canvasOffsetTop = 0;\n  var guiWindow_w_h_ratio = guiWindowWidth / guiWindowHeight;\n  var image_w_h_ratio = imageWidth / imageHeight;\n  var viewportExtendsOnX = false;\n\n  if (guiWindow_w_h_ratio > image_w_h_ratio) {\n    // canvasHeight is bigger than guiWindowHeight\n    canvasWidth = guiWindowWidth;\n    canvasHeight = canvasWidth / image_w_h_ratio;\n    canvasOffsetTop = (canvasHeight - guiWindowHeight) / 2; // canvasOffsetTop = (canvasHeight - guiWindowHeight) / 2.5;\n\n    viewportExtendsOnX = false;\n  } else {\n    // canvasWidth is bigger than guiWindowWidth\n    canvasHeight = guiWindowHeight;\n    canvasWidth = canvasHeight * image_w_h_ratio;\n    canvasOffsetLeft = (canvasWidth - guiWindowWidth) / 2;\n    viewportExtendsOnX = true;\n  }\n\n  var canvasParams = {\n    viewportExtendsOnX: viewportExtendsOnX,\n    canvasOffsetLeft: canvasOffsetLeft,\n    canvasOffsetTop: canvasOffsetTop,\n    canvasWidth: canvasWidth,\n    canvasHeight: canvasHeight\n  };\n  return canvasParams;\n}; //////////////////////////////////////////////////////////////\n// Util\n//////////////////////////////////////////////////////////////\n\n\nvar Util = {};\n\nUtil.isObjectValid = function (object) {\n  var retval = true;\n\n  if (object === undefined || object === null) {\n    retval = false;\n  }\n\n  return retval;\n}; // get nested object safely, using reduce\n\n\nUtil.getNestedObject = function (nestedObj, pathArr) {\n  return pathArr.reduce(function (obj, key) {\n    return obj && obj[key] !== 'undefined' ? obj[key] : undefined;\n  }, nestedObj);\n};\n\nUtil.bootstrap_alert_success = function (message) {\n  $('<div id=\"bootstrap_alert_success\" class=\"alert alert-success alert-dismissible my-alerts fade show\" role=\"alert\">' + message + '<button type=\"button\" class=\"close\" data-dismiss=\"alert\"><span>Ã—</span></button></div>').appendTo($('#alert_placeholder'));\n};\n\nUtil.toastrSettings = {\n  \"timeOut\": 2000,\n  \"extendedTimeOut\": 2000,\n  \"closeButton\": true,\n  \"closeDuration\": 1000\n}; //////////////////////////////////////////////////////////////\n// TexturePanelPlugin\n//////////////////////////////////////////////////////////////\n\nvar TexturePanelPlugin = /*#__PURE__*/function () {\n  function TexturePanelPlugin() {\n    _classCallCheck(this, TexturePanelPlugin);\n\n    this.texCamera;\n    this.texScene;\n    this.texRenderer;\n    this.texControls;\n    this.rotationVal = 0;\n    this.flipY = true;\n    this.textureSprite1;\n    this.bbox;\n    this.viewportExtendsOnX = false;\n  }\n\n  _createClass(TexturePanelPlugin, [{\n    key: \"initTexturePanelPlugin\",\n    value: function initTexturePanelPlugin() {\n      console.log('BEG initTexturePanelPlugin');\n      var left = -100;\n      var right = 100;\n      var top = 50;\n      var bottom = -50;\n      var near = -500;\n      var far = 1000;\n      this.texCamera = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(left, right, top, bottom, near, far);\n      this.texCamera.position.set(0, 0, 80);\n      this.texScene = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n      this.texRenderer = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n        preserveDrawingBuffer: true,\n        alpha: true\n      });\n      this.texRenderer.domElement.id = 'canvasTex';\n      this.texRenderer.setPixelRatio(window.devicePixelRatio);\n      this.texRenderer.setClearColor(0XDBDBDB, 1); //Webgl canvas background color\n\n      this.initializeOrbitControlsTex();\n      $(window).resize(function () {\n        console.log('BEG TexturePanelPlugin window resize2');\n        var selectedLayer = Model.getSelectedLayer();\n        var texturePanelPlugin = selectedLayer.texturePanelPlugin;\n        var textureImageInfo = selectedLayer.textureImageInfo;\n        console.log('textureImageInfo', textureImageInfo);\n        var materialTexture = Util.getNestedObject(textureImageInfo, ['data', 'material', 'map']);\n\n        if (Util.isObjectValid(materialTexture)) {\n          var imageOrientation = textureImageInfo.imageOrientation;\n          texturePanelPlugin.set_camera_canvas_renderer_and_viewport2(materialTexture, imageOrientation);\n        }\n      });\n    }\n  }, {\n    key: \"set_camera_canvas_renderer_and_viewport2\",\n    value: function set_camera_canvas_renderer_and_viewport2(materialTexture, imageOrientation) {\n      console.log('BEG set_camera_canvas_renderer_and_viewport2');\n      var texCanvasWrapperSize = this.getTexCanvasWrapperSize();\n      console.log('texCanvasWrapperSize22', texCanvasWrapperSize); //////////////////////////////////////////////////\n      // Set the texCamera\n      // Create new camera that covers the entire image                     \n      //////////////////////////////////////////////////\n\n      var near = -500;\n      var far = 1000;\n      this.texCamera = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(-(materialTexture.image.width / 2), materialTexture.image.width / 2, materialTexture.image.height / 2, -(materialTexture.image.height / 2), near, far);\n      this.texCamera.position.set(0, 0, TexturePanelPlugin.initialCameraHeightAboveGround);\n      this.texControls.camera = this.texCamera;\n      this.texCamera.updateProjectionMatrix();\n      var retVal = OrbitControlsUtils.getScaleAndRatio(this.texCamera.right - this.texCamera.left, this.texCamera.top - this.texCamera.bottom, imageOrientation);\n      this.rotationVal = retVal.rotationVal;\n      this.flipY = retVal.flipY;\n      materialTexture.flipY = this.flipY;\n      var material = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())({\n        map: materialTexture,\n        color: 0xffffff,\n        rotation: this.rotationVal,\n        fog: true\n      });\n      this.textureSprite1 = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(material);\n      this.textureSprite1.position.set(0, 0, 0);\n      this.textureSprite1.scale.set(retVal.scaleX, retVal.scaleY, 1); //////////////////////////////////////////////////\n      // Set the bbox for the textureSprite1\n      //////////////////////////////////////////////////\n\n      this.bbox = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())().setFromObject(this.textureSprite1);\n\n      if (this.textureSprite1.material.rotation === 0) {// landscape\n      } else {\n        // portrait\n        var minX = this.bbox.min.x;\n        this.bbox.min.x = this.bbox.min.y;\n        this.bbox.min.y = minX;\n        var maxX = this.bbox.max.x;\n        this.bbox.max.x = this.bbox.max.y;\n        this.bbox.max.y = maxX;\n      } //Add the mesh to the scene\n\n\n      this.texScene.add(this.textureSprite1);\n      this.updateCameraAndCanvasForTheSelectedImage(imageOrientation);\n    }\n  }, {\n    key: \"getBoundingBox\",\n    value: function getBoundingBox() {\n      return this.bbox;\n    }\n  }, {\n    key: \"doesViewportExtendOnX\",\n    value: function doesViewportExtendOnX() {\n      return this.viewportExtendsOnX;\n    }\n  }, {\n    key: \"initializeOrbitControlsTex\",\n    value: function initializeOrbitControlsTex() {\n      // console.log('BEG initializeOrbitControlsTex'); \n      var texCanvasWrapperElement = document.getElementById('texCanvasWrapper');\n      this.texControls = new OrbitControlsTexPane(this.texCamera, texCanvasWrapperElement); // need to set this.texCamera.position after construction of this.texControls\n\n      this.texCamera.position.copy(TexturePanelPlugin.initialCameraHeightPosition);\n      this.texCamera.zoom = 0.42;\n      this.texControls.target.copy(this.texCamera.position);\n      this.texControls.target.setY(0.0);\n    }\n  }, {\n    key: \"loadTextureImageToTexturePane\",\n    value: function loadTextureImageToTexturePane(textureImageInfo) {\n      console.log('BEG loadTextureImageToTexturePane');\n      var texCanvasWrapper = $('#texCanvasWrapper');\n      texCanvasWrapper.append(this.texRenderer.domElement); //Always remove everything from the scene when creating the meshes and adding them to the scene\n\n      for (var i = this.texScene.children.length - 1; i >= 0; i--) {\n        if (this.texScene.children[i].type == \"Sprite\") {\n          this.texScene.remove(this.texScene.children[i]);\n        }\n      }\n\n      var materialTexture = textureImageInfo.data.material.map;\n      this.set_camera_canvas_renderer_and_viewport2(materialTexture, textureImageInfo.imageOrientation);\n      TexturePanelPlugin.render2();\n    }\n  }, {\n    key: \"getTexCanvasWrapperSize\",\n    value: function getTexCanvasWrapperSize() {\n      // console.log('BEG TexturePanelPlugin getTexCanvasWrapperSize');\n      var texCanvasWrapper = $('#texCanvasWrapper');\n      var texCanvasWrapperSize = {\n        width: texCanvasWrapper.innerWidth(),\n        height: texCanvasWrapper.innerHeight()\n      };\n      return texCanvasWrapperSize;\n    }\n  }, {\n    key: \"updateCameraAndCanvasForTheSelectedImage\",\n    value: function updateCameraAndCanvasForTheSelectedImage(imageOrientation) {\n      console.log('BEG updateCameraAndCanvasForTheSelectedImage');\n      var texCanvasWrapperSize = this.getTexCanvasWrapperSize();\n      var guiWindowWidth = texCanvasWrapperSize.width;\n      var guiWindowHeight = texCanvasWrapperSize.height; //////////////////////////////////////////////////////////////////////\n      // Set the camera frustum, zoom to cover the entire image\n      //////////////////////////////////////////////////////////////////////\n\n      var imageWidth = Util.getNestedObject(this.textureSprite1, ['material', 'map', 'image', 'width']);\n      var imageHeight = Util.getNestedObject(this.textureSprite1, ['material', 'map', 'image', 'height']);\n      var retVal = this.texControls.setCameraAndCanvas(guiWindowWidth, guiWindowHeight, imageWidth, imageHeight, imageOrientation); /////////////////////////////////////////////////////////////////////////////////////\n      // Scale the texture such that it fits the entire image\n      /////////////////////////////////////////////////////////////////////////////////////\n\n      this.textureSprite1.scale.set(retVal.scaleX, retVal.scaleY, 1);\n      this.viewportExtendsOnX = retVal.viewportExtendsOnX;\n      this.texRenderer.setSize(texCanvasWrapperSize.width, texCanvasWrapperSize.height);\n      this.texRenderer.setViewport(-retVal.canvasOffsetLeft, -retVal.canvasOffsetTop, retVal.canvasWidth, retVal.canvasHeight);\n      this.texControls.setZoom(this.texControls.minZoom);\n      this.texCamera.updateProjectionMatrix();\n    }\n  }], [{\n    key: \"render2\",\n    value: function render2() {\n      // console.log('BEG TexturePanelPlugin render2');\n      var selectedLayer = Model.getSelectedLayer();\n      var texturePanelPlugin = selectedLayer.texturePanelPlugin;\n      var texRenderer2 = texturePanelPlugin.texRenderer;\n      var texScene2 = texturePanelPlugin.texScene;\n      var texCam2 = texturePanelPlugin.texCamera;\n\n      if (texRenderer2) {\n        texRenderer2.render(texScene2, texCam2);\n      }\n    }\n  }]);\n\n  return TexturePanelPlugin;\n}();\n\n;\nTexturePanelPlugin.initialCameraHeightPosition = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(643, 603, 2000);\nTexturePanelPlugin.initialCameraHeightAboveGround = 80;\n$(window).load(function () {\n  console.log('BEG windows.load()');\n  var texturePanelPlugin = new TexturePanelPlugin();\n  texturePanelPlugin.initTexturePanelPlugin();\n  var selectedLayer = Model.getSelectedLayer();\n  selectedLayer.loadTheSelectedImageAndRender();\n  animate();\n});\n\nfunction animate() {\n  requestAnimationFrame(animate);\n  var selectedLayer = Model.getSelectedLayer();\n\n  if (Util.isObjectValid(selectedLayer)) {\n    var texturePanelPlugin = selectedLayer.texturePanelPlugin;\n    texturePanelPlugin.texControls.update();\n    TexturePanelPlugin.render2();\n  }\n}\n\n; //////////////////////////////////////////////////////////////\n// OrbitControlsTexPane\n//////////////////////////////////////////////////////////////\n\nvar OrbitControlsTexPane = /*#__PURE__*/function (_THREE_EventDispatche) {\n  _inherits(OrbitControlsTexPane, _THREE_EventDispatche);\n\n  var _super = _createSuper(OrbitControlsTexPane);\n\n  function OrbitControlsTexPane(camera, domElement) {\n    var _this;\n\n    _classCallCheck(this, OrbitControlsTexPane);\n\n    _this = _super.call(this); // console.log('BEG construct OrbitControlsTexPane'); \n\n    _this.domElement = Util.isObjectValid(domElement) ? domElement : document;\n\n    if (!camera.isOrthographicCamera) {\n      // sanity check\n      throw new Error('camera is not orthographic');\n    }\n\n    _this.camera = camera; // \"target\" sets the location of focus, where the camera orbits around\n    // for texPane camera, it is alway the previous camera (position.x, position.x, 0), and\n    // it gets updated to the new camera position (position.x, position.x, 0) after pan\n    // so that the camera always look down (i.e. 90 degrees) at the target.\n\n    _this.target = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(); // How far you can zoom in and out ( OrthographicCamera only )\n\n    _this.minZoom = 0;\n    _this.maxZoom = Infinity;\n    _this.offset = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(); // so camera.up is the orbit axis\n\n    _this.quat = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())().setFromUnitVectors(_this.camera.up, new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())(0, 1, 0));\n    _this.quatInverse = _this.quat.clone().inverse();\n    _this.lastPosition = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n    _this.lastQuaternion = new !(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }())();\n    _this.cameraHeightAboveGround = 80;\n    _this.scale = 1;\n    _this.zoomChanged = false;\n    return _this;\n  }\n\n  _createClass(OrbitControlsTexPane, [{\n    key: \"initOrbitControlsTexPane\",\n    value: function initOrbitControlsTexPane() {\n      // console.log('BEG initOrbitControlsTexPane');\n      this.domElement.activate();\n    }\n  }, {\n    key: \"setZoom\",\n    value: function setZoom(zoomFactor) {\n      // console.log('BEG setZoom');\n      this.camera.zoom = Math.max(this.minZoom, Math.min(this.maxZoom, zoomFactor));\n      this.camera.updateProjectionMatrix();\n      this.zoomChanged = true;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      // console.log('BEG OrbitControlsTexPane::update()');\n      // Set the camera above the target.\n      this.camera.position.set(this.target.x, this.target.y, this.cameraHeightAboveGround);\n      this.camera.lookAt(this.target);\n      this.scale = 1; // update condition is:\n      // min(camera displacement, camera rotation in radians)^2 > OrbitControlsTexPane.EPS\n      // using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n      var positionShift = this.lastPosition.distanceToSquared(this.camera.position);\n      var condition3 = 8 * (1 - this.lastQuaternion.dot(this.camera.quaternion));\n\n      if (this.zoomChanged || positionShift > OrbitControlsTexPane.EPS || condition3 > OrbitControlsTexPane.EPS) {\n        this.lastPosition.copy(this.camera.position);\n        this.lastQuaternion.copy(this.camera.quaternion);\n        this.zoomChanged = false;\n        var selectedLayer = Model.getSelectedLayer();\n        var texturePlugin = selectedLayer.texturePanelPlugin;\n        var bBox = texturePlugin.getBoundingBox();\n        var viewportExtendsOnX = texturePlugin.doesViewportExtendOnX();\n\n        if (bBox) {\n          this.limitPanning(bBox, viewportExtendsOnX);\n        }\n\n        return true;\n      }\n\n      return false;\n    }\n  }, {\n    key: \"setCameraFrustumAndZoom\",\n    value: function setCameraFrustumAndZoom(guiWindowWidth, guiWindowHeight, imageWidth, imageHeight, imageOrientation) {\n      // console.log('BEG setCameraFrustumAndZoom');\n      this.camera.left = -imageWidth / 2;\n      this.camera.right = imageWidth / 2;\n      this.camera.top = imageHeight / 2;\n      this.camera.bottom = -imageHeight / 2;\n      this.setZoom(this.minZoom);\n      this.camera.updateProjectionMatrix();\n    }\n  }, {\n    key: \"setMinZoom2\",\n    value: function setMinZoom2(guiWindowWidth, guiWindowHeight, imageWidth, imageHeight, canvasWidth, canvasHeight) {\n      // console.log('BEG setMinZoom2');\n      var image_w_h_ratio = imageWidth / imageHeight;\n      var guiWindow_w_h_ratio = guiWindowWidth / guiWindowHeight;\n      var canvas_w_h_ratio = canvasWidth / canvasHeight;\n      var zoomFactor = 1;\n\n      if (guiWindow_w_h_ratio > image_w_h_ratio) {\n        // canvasWidth is smaller than guiWindowWidth\n        zoomFactor = guiWindowHeight / canvasHeight;\n      } else {\n        zoomFactor = guiWindowWidth / canvasWidth;\n      }\n\n      this.minZoom = zoomFactor; // make sure that the current zoom is bounded by the new value of this.minZoom \n\n      this.setZoom(this.camera.zoom);\n    }\n  }, {\n    key: \"setCameraAndCanvas\",\n    value: function setCameraAndCanvas(guiWindowWidth, guiWindowHeight, imageWidth, imageHeight, imageOrientation) {\n      // console.log('BEG setCameraAndCanvas');\n      this.setCameraFrustumAndZoom(guiWindowWidth, guiWindowHeight, imageWidth, imageHeight, imageOrientation);\n      var retVal0 = OrbitControlsUtils.getScaleAndRatio(imageWidth, imageHeight, imageOrientation);\n      var scaleX = retVal0.scaleX;\n      var scaleY = retVal0.scaleY;\n      var isTexturePane = true;\n      var retVal1 = OrbitControlsUtils.calcCanvasParams(guiWindowWidth, guiWindowHeight, imageWidth, imageHeight, isTexturePane);\n      console.log('guiWindowWidth', guiWindowWidth);\n      console.log('guiWindowHeight', guiWindowHeight);\n      console.log('imageWidth', imageWidth);\n      console.log('imageHeight', imageHeight);\n      console.log('retVal1', retVal1);\n      this.setMinZoom2(guiWindowWidth, guiWindowHeight, imageWidth, imageHeight, retVal1.canvasWidth, retVal1.canvasHeight);\n      this.setZoom(this.minZoom);\n      this.camera.updateProjectionMatrix();\n      var retVal = {\n        scaleX: scaleX,\n        scaleY: scaleY,\n        viewportExtendsOnX: retVal1.viewportExtendsOnX,\n        canvasOffsetLeft: retVal1.canvasOffsetLeft,\n        canvasOffsetTop: retVal1.canvasOffsetTop,\n        canvasWidth: retVal1.canvasWidth,\n        canvasHeight: retVal1.canvasHeight\n      };\n      return retVal;\n    }\n  }, {\n    key: \"limitPanning\",\n    ///////////////////////////////////////////////////////////////////////////\n    // limitPanning() insures that the image always covers the view window:\n    // - The minimal zoom is set to 1, to prevent a case where the image is smaller than the view window \n    // - If the zoom is 1, the image covers the view window, and panning is disabled.\n    // - If the zoom is bigger than 1, panning is enabled as long as the image covers the view window.\n    ///////////////////////////////////////////////////////////////////////////\n    value: function limitPanning(bbox, viewportExtendsOnX) {\n      console.log('BEG limitPanning');\n      console.log('viewportExtendsOnX111111111111111111111111111111', viewportExtendsOnX);\n      var x1 = this.camera.position.x + this.camera.left / this.camera.zoom;\n      var x3 = this.camera.position.x + this.camera.right / this.camera.zoom;\n      var x1a = Math.max(x1, bbox.min.x);\n      var pos_x = 0;\n\n      if (x1 <= bbox.min.x && x3 >= bbox.max.x) {\n        // the camera view exceeds the image\n        // Center the image (x axis) in the view window\n        pos_x = (bbox.min.x + bbox.max.x) / 2;\n      } else {\n        var pos_x1 = x1a - this.camera.left / this.camera.zoom;\n        var x2 = pos_x1 + this.camera.right / this.camera.zoom;\n        var x2a = Math.min(x2, bbox.max.x);\n        pos_x = x2a - this.camera.right / this.camera.zoom;\n      }\n\n      var y1 = this.camera.position.y + this.camera.bottom * this.minZoom / this.camera.zoom;\n      var y1a = Math.max(y1, bbox.min.y);\n      var pos_y1 = y1a - this.camera.bottom * this.minZoom / this.camera.zoom;\n      var y3 = this.camera.position.y + this.camera.top * this.minZoom / this.camera.zoom;\n      var pos_y = 0;\n\n      if (y1 <= bbox.min.y && y3 >= bbox.max.y) {\n        // the camera view exceeds the image\n        // Center the image (y axis) in the view window\n        pos_y = (bbox.min.y + bbox.max.y) / 2;\n      } else {\n        var y2 = pos_y1 + this.camera.top * this.minZoom / this.camera.zoom;\n        var y2a = Math.min(y2, bbox.max.y);\n        pos_y = y2a - this.camera.top * this.minZoom / this.camera.zoom;\n      } // Limit the panning\n\n\n      this.camera.position.set(pos_x, pos_y, this.camera.position.z);\n      this.camera.lookAt(pos_x, pos_y, this.target.z);\n      this.target.set(pos_x, pos_y, 0);\n    }\n  }]);\n\n  return OrbitControlsTexPane;\n}(!(function webpackMissingModule() { var e = new Error(\"Cannot find module 'https://cdn.jsdelivr.net/npm/three@0.120/build/three.module.js'\"); e.code = 'MODULE_NOT_FOUND'; throw e; }()));\n\n;\nOrbitControlsTexPane.EPS = 0.0001; //////////////////////////////////////////////////////////////\n// BrowserDetect\n//////////////////////////////////////////////////////////////\n// https://gist.github.com/2107/5529665\n\nvar BrowserDetect = // browser detect\nfunction BrowserDetect() {\n  _classCallCheck(this, BrowserDetect);\n\n  _defineProperty(this, \"init\", function () {\n    this.browser = this.searchString(this.dataBrowser) || \"An unknown browser\";\n    this.version = this.searchVersion(navigator.userAgent) || this.searchVersion(navigator.appVersion) || \"an unknown version\";\n    this.OS = this.searchString(this.dataOS) || \"an unknown OS\";\n  });\n\n  _defineProperty(this, \"searchString\", function (data) {\n    for (var i = 0; i < data.length; i++) {\n      var dataString = data[i].string;\n      var dataProp = data[i].prop;\n      this.versionSearchString = data[i].versionSearch || data[i].identity;\n\n      if (dataString) {\n        if (dataString.indexOf(data[i].subString) != -1) return data[i].identity;\n      } else if (dataProp) return data[i].identity;\n    }\n  });\n\n  _defineProperty(this, \"searchVersion\", function (dataString) {\n    var index = dataString.indexOf(this.versionSearchString);\n    if (index == -1) return;\n    return parseFloat(dataString.substring(index + this.versionSearchString.length + 1));\n  });\n\n  this.dataBrowser = [{\n    string: navigator.userAgent,\n    subString: \"Chrome\",\n    identity: \"Chrome\"\n  }, {\n    string: navigator.vendor,\n    subString: \"Apple\",\n    identity: \"Safari\",\n    versionSearch: \"Version\"\n  }, {\n    string: navigator.userAgent,\n    subString: \"Firefox\",\n    identity: \"Firefox\"\n  }, {\n    string: navigator.userAgent,\n    subString: \"Gecko\",\n    identity: \"Mozilla\",\n    versionSearch: \"rv\"\n  }, {\n    string: navigator.platform,\n    subString: \"Mac\",\n    identity: \"Mac\"\n  }, {\n    string: navigator.userAgent,\n    subString: \"iPhone\",\n    identity: \"iPhone/iPod\"\n  }, {\n    string: navigator.platform,\n    subString: \"Linux\",\n    identity: \"Linux\"\n  }];\n  this.dataOS = [{\n    string: navigator.platform,\n    subString: \"Win\",\n    identity: \"Windows\"\n  }, {\n    string: navigator.platform,\n    subString: \"Mac\",\n    identity: \"Mac\"\n  }, {\n    string: navigator.userAgent,\n    subString: \"iPhone\",\n    identity: \"iPhone/iPod\"\n  }, {\n    string: navigator.platform,\n    subString: \"Linux\",\n    identity: \"Linux\"\n  }];\n};\n\n; //////////////////////////////////////////////////////////////\n// main code\n//////////////////////////////////////////////////////////////\n\nconsole.log('BEG main code');\nModel._selectedLayer = Model.createLayer();\n\n//# sourceURL=webpack:///./example12_main.v2.js?");

/***/ }),

/***/ 0:
/*!************************************!*\
  !*** multi ./example12_main.v2.js ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("module.exports = __webpack_require__(/*! ./example12_main.v2.js */\"./example12_main.v2.js\");\n\n\n//# sourceURL=webpack:///multi_./example12_main.v2.js?");

/***/ })

/******/ });